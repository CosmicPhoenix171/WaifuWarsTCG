:root{
  --bg-900:#0d141a;
  --bg-800:#101820;
  --surface-700:#141e27;
  --surface-600:#18232d;
  --surface-500:#1e2b36;
  --text-100:#e8eef4;
  --text-300:#b9c7d6;
  --text-500:#8aa0b5;
  --border:#1f2c38;
  --primary-300:#3da9f5;
  --primary-400:#65b7f7;
  --accent-300:#7df2c9;
  --danger-300:#ff6b6b;
  --warning-300:#f5c568;
  --success-300:#47e6a1;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background:radial-gradient(1200px 600px at 30% -10%,#13202a 0%,var(--bg-900) 60%) fixed;
  color:var(--text-100);
  -webkit-font-smoothing:antialiased;
}
.centered-screen{display:flex;align-items:center;justify-content:center;height:100vh;padding:1rem}
.login-card{
  background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.06);
  padding:2rem;border-radius:12px;max-width:420px;width:100%;text-align:center
}
h1{margin:0 0 .25rem 0;font-size:1.75rem}
.tm{font-size:0.6rem;opacity:0.9}
.subtitle{color:var(--text-500);margin:0 0 1rem}
.small{color:var(--text-500);font-size:0.85rem}
.btn{cursor:pointer;border:1px solid var(--border);padding:.55rem .8rem;border-radius:10px;font-weight:600;color:var(--text-100);background:var(--surface-600);transition:transform .12s ease,box-shadow .2s ease,background .2s ease,border-color .2s ease}
.btn:hover{transform:translateY(-1px)}
.btn.primary{background:linear-gradient(135deg,var(--primary-300),#4bd2ff);color:#0b1218;border-color:transparent;box-shadow:0 6px 18px rgba(75,210,255,.15)}
.btn.secondary{background:linear-gradient(135deg,#7e8ea1,#b7c7da);color:#0b1218;border-color:transparent}
.hidden{display:none}

.topbar{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.25rem;position:sticky;top:0;z-index:20;border-bottom:1px solid var(--border);backdrop-filter:saturate(1.1) blur(8px);background:linear-gradient(180deg,rgba(18,26,34,.85),rgba(18,26,34,.65))}
.brand{font-weight:700;letter-spacing:0.4px}
.user-info{display:flex;gap:.75rem;align-items:center}

.tabs{display:flex;gap:.5rem;padding:.75rem 0 0;border-bottom:1px solid var(--border);overflow:auto}
.tab{background:var(--surface-600);border:1px solid var(--border);padding:.45rem .8rem;border-radius:8px;color:var(--text-300);transition:transform .12s ease,background .2s ease,color .2s ease}
.tab:hover{transform:translateY(-1px);color:var(--text-100)}
.tab.active{color:#0c1116;background:linear-gradient(135deg,var(--accent-300),#50c9ff);border-color:transparent;font-weight:600}
.tab:focus{outline:2px solid rgba(96,165,250,0.2)}

.main{padding:1rem;max-width:1100px;margin:0 auto}
.section{padding:1rem 0}
.section h2{font-size:1.35rem;font-weight:700;letter-spacing:.2px;margin:1.25rem 0 .8rem}
.add-form{display:flex;flex-direction:column;gap:.6rem;background:var(--surface-700);border:1px solid var(--border);border-radius:12px;padding:.9rem;margin-bottom:1rem}
.add-form .row{display:grid;grid-template-columns:1fr 160px 200px;gap:.6rem}
.add-form input,.add-form select,.add-form textarea{background:var(--surface-600);border:1px solid var(--border);padding:.6rem .7rem;border-radius:10px;color:var(--text-100)}
.add-form textarea{min-height:90px}
.add-form input:focus,.add-form select:focus,.add-form textarea:focus{outline:none;border-color:var(--primary-300);box-shadow:0 0 0 3px rgba(61,169,245,.15)}
.input-suggest{position:relative}
.input-suggest input{width:100%}
.suggestions{position:absolute;top:calc(100% + 4px);left:0;right:0;background:rgba(15,23,32,0.96);border:1px solid rgba(255,255,255,0.05);border-radius:8px;box-shadow:0 14px 32px rgba(6,13,28,0.55);max-height:230px;overflow-y:auto;z-index:40;display:none}
.suggestions.visible{display:block}
.suggestions button{display:flex;width:100%;gap:.5rem;align-items:center;justify-content:space-between;background:transparent;border:0;color:inherit;padding:.55rem .65rem;font-size:.92rem;cursor:pointer;text-align:left}
.suggestions button:hover,.suggestions button:focus{background:rgba(96,165,250,0.12);outline:none}
.suggestions button .year{color:var(--text-500);font-size:.8rem}
.suggestions .empty{padding:.55rem .65rem;color:var(--text-500);font-size:.85rem}
.list{display:grid;gap:.6rem}
.card{display:grid;grid-template-columns:auto 1fr auto;align-items:stretch;gap:1rem;padding:.9rem;background:linear-gradient(180deg,rgba(30,43,54,.85),rgba(24,35,45,.85));border:1px solid var(--border);border-radius:14px;box-shadow:0 10px 24px rgba(0,0,0,.18);transition:transform .12s ease,box-shadow .25s ease,border-color .2s ease}
.card:hover{transform:translateY(-2px);border-color:#2a3b4a;box-shadow:0 14px 34px rgba(0,0,0,.26)}
.card .artwork{width:70px;flex-shrink:0;border-radius:10px;overflow:hidden;background:rgba(255,255,255,0.02);box-shadow:0 6px 14px rgba(0,0,0,0.35);border:1px solid #203040}
.card .artwork img{display:block;width:70px;height:100px;object-fit:cover}
.card .card-body{flex:1;min-width:0}
.card .meta{color:var(--text-500);font-size:0.9rem;margin-bottom:.35rem}
.card .actions{display:flex;gap:.5rem;margin-left:auto;align-items:center}
.card .title{font-weight:700;font-size:1rem;margin-bottom:.2rem}
.card .notes{margin-top:.35rem;color:var(--text-300);font-size:0.9rem}
.card .plot-summary{margin-top:.35rem;color:var(--text-300);font-size:0.9rem;line-height:1.35}
.card .meta-link{display:inline-block;margin-right:.6rem;margin-top:.25rem;color:var(--primary-400);font-weight:600;font-size:.82rem;text-decoration:none}
.card .meta-link:hover{text-decoration:underline;color:#8bd6ff}
.status-chip{display:inline-flex;align-items:center;gap:.35rem;padding:.18rem .5rem;border-radius:999px;font-size:.75rem;font-weight:700;letter-spacing:.02em;margin-top:.35rem;border:1px solid rgba(255,255,255,.06)}
.status-planned{background:rgba(101,183,247,.12);color:#9bd6ff}
.status-watching{background:rgba(245,197,104,.14);color:#f9d58b}
.status-completed{background:rgba(71,230,161,.14);color:#9bf0c9}
.status-dropped{background:rgba(255,107,107,.14);color:#ff9e9e}

.wheel-area{margin-top:1rem;display:flex;flex-direction:column;gap:1rem;align-items:center}
#wheel-spinner{display:flex;align-items:center;justify-content:center;height:92px;margin-top:.75rem;background:var(--surface-700);border:1px solid var(--border);border-radius:12px;overflow:hidden;box-shadow:inset 0 0 0 1px rgba(255,255,255,.02)}
.spin-text{display:block;width:100%;color:var(--text-100);line-height:1.4;font-weight:700;letter-spacing:.02em}
#wheel-spinner.spinning .spin-text{animation:spinPulse .9s ease-in-out infinite}
.spin-text.final{color:#0b1218;background:linear-gradient(135deg,var(--accent-300),#50c9ff);padding:.25rem .55rem;border-radius:8px;display:inline-block;width:auto}
@keyframes spinPulse{0%{transform:scale(.98);opacity:.75}50%{transform:scale(1.04);opacity:1}100%{transform:scale(.98);opacity:.75}}
.wheel-result{min-height:48px;font-weight:700}

/* modal styles */
.modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center}
.modal{background:var(--surface-600);padding:1rem;border-radius:12px;min-width:320px;border:1px solid rgba(255,255,255,0.06);box-shadow:0 22px 48px rgba(0,0,0,.35)}
.modal form{display:grid;gap:.5rem}

/* responsive */
@media (max-width:720px){
  .add-form .row{grid-template-columns:1fr 1fr}
  .topbar{flex-direction:column;align-items:flex-start;gap:.5rem}
  .card{grid-template-columns:60px 1fr}
  .actions{grid-column:1 / -1;justify-content:flex-end}
}
